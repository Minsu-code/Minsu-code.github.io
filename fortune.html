<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fortune - Tony An</title>
    <style>
        :root {
            --bg-primary: #f5f5f5;
            --bg-secondary: white;
            --bg-card: #fafafa;
            --text-primary: #222;
            --text-secondary: #666;
            --text-muted: #888;
            --border-color: #e0e0e0;
            --accent-color: #333;
            --hover-bg: #f0f0f0;
            --shadow: rgba(0,0,0,0.08);
        }

        [data-theme="dark"] {
            --bg-primary: #121212;
            --bg-secondary: #1e1e1e;
            --bg-card: #2a2a2a;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --text-muted: #888;
            --border-color: #404040;
            --accent-color: #e0e0e0;
            --hover-bg: #333;
            --shadow: rgba(0,0,0,0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--bg-primary); 
            min-height: 100vh; 
            transition: background 0.3s, color 0.3s;
        }
        
        /* ìƒë‹¨ë°” */
        .top-bar {
            background: #1a1a1a;
            padding: 12px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .left-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .social-link {
            display: flex;
            align-items: center;
            text-decoration: none;
            transition: opacity 0.2s;
        }
        
        .social-link:hover {
            opacity: 0.8;
        }
        
        .x-logo {
            width: 24px;
            height: 24px;
            fill: white;
        }

        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 24px;
            padding: 5px;
            transition: transform 0.2s;
        }

        .theme-toggle:hover {
            transform: scale(1.2);
        }

        .nav-link {
            color: white;
            text-decoration: none;
            font-size: 16px;
            font-weight: 600;
            padding: 8px 20px;
            transition: all 0.2s;
        }

        .nav-link:hover {
            opacity: 0.7;
        }

        .visitor-count {
            color: white;
            font-size: 14px;
            font-weight: 500;
        }
        
        .main-content {
            padding: 30px 20px;
            max-width: 900px;
            margin: 0 auto;
        }

        .page-title {
            font-size: 32px;
            color: var(--text-primary);
            margin-bottom: 10px;
            text-align: center;
            transition: color 0.3s;
        }

        .page-subtitle {
            font-size: 14px;
            color: var(--text-muted);
            text-align: center;
            margin-bottom: 30px;
        }

        /* íƒ­ ë©”ë‰´ */
        .tab-menu {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            background: var(--bg-secondary);
            color: var(--text-secondary);
            box-shadow: 0 2px 10px var(--shadow);
            transition: all 0.3s;
        }

        .tab-btn:hover {
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        /* íƒ­ ì»¨í…ì¸  */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* ì…ë ¥ í¼ */
        .form-card {
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 4px 20px var(--shadow);
            margin-bottom: 25px;
            transition: background 0.3s;
        }

        .form-title {
            font-size: 18px;
            color: var(--text-primary);
            margin-bottom: 20px;
            text-align: center;
            transition: color 0.3s;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 6px;
            transition: color 0.3s;
        }

        .form-group select,
        .form-group input {
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            font-size: 14px;
            background: var(--bg-card);
            color: var(--text-primary);
            transition: all 0.3s;
        }

        .form-group select:focus,
        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transition: all 0.3s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        /* ìš´ì„¸ ê²°ê³¼ */
        .fortune-result {
            display: none;
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 4px 20px var(--shadow);
            transition: background 0.3s;
        }

        .fortune-result.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fortune-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .fortune-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .fortune-title {
            font-size: 22px;
            color: var(--text-primary);
            margin-bottom: 5px;
            transition: color 0.3s;
        }

        .fortune-date {
            font-size: 14px;
            color: var(--text-muted);
        }

        .fortune-section {
            margin-bottom: 20px;
            padding: 20px;
            background: var(--bg-card);
            border-radius: 15px;
            transition: background 0.3s;
        }

        .fortune-section-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 10px;
            transition: color 0.3s;
        }

        .fortune-section-content {
            font-size: 15px;
            color: var(--text-secondary);
            line-height: 1.7;
            transition: color 0.3s;
        }

        .luck-meter {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .luck-bar {
            flex: 1;
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
        }

        .luck-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s;
        }

        .luck-fill.high { background: linear-gradient(90deg, #4caf50, #8bc34a); }
        .luck-fill.medium { background: linear-gradient(90deg, #ff9800, #ffc107); }
        .luck-fill.low { background: linear-gradient(90deg, #f44336, #e91e63); }

        .luck-percent {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            min-width: 45px;
        }

        /* ë ë³„/ë³„ìë¦¬ ê·¸ë¦¬ë“œ */
        .zodiac-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
        }

        .zodiac-card {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            box-shadow: 0 2px 10px var(--shadow);
            transition: all 0.3s;
        }

        .zodiac-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px var(--shadow);
        }

        .zodiac-card.selected {
            border: 2px solid #667eea;
        }

        .zodiac-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .zodiac-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 5px;
            transition: color 0.3s;
        }

        .zodiac-years {
            font-size: 11px;
            color: var(--text-muted);
            line-height: 1.4;
        }

        .zodiac-dates {
            font-size: 12px;
            color: var(--text-muted);
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 600px) {
            .page-title { font-size: 26px; }
            .form-card { padding: 20px; }
            .tab-btn { padding: 10px 18px; font-size: 14px; }
            .zodiac-grid { grid-template-columns: repeat(3, 1fr); gap: 10px; }
            .zodiac-card { padding: 15px 10px; }
            .zodiac-icon { font-size: 28px; }
            .zodiac-name { font-size: 14px; }
        }
    </style>
</head>
<body>
    <!-- ìƒë‹¨ë°” -->
    <div class="top-bar">
        <div class="left-section">
            <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ™</button>
            <a href="https://github.com/Minsu-code" target="_blank" class="social-link" title="GitHub">
                <svg class="x-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
            </a>
            <a href="https://x.com/KR_MSU" target="_blank" class="social-link" title="X (Twitter)">
                <svg class="x-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
            </a>
            <a href="index.html" class="social-link" title="Home">
                <svg class="x-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 3L4 9v12h5v-7h6v7h5V9l-8-6z"/>
                </svg>
            </a>
        </div>

        <a href="project.html" class="nav-link">Project</a>

        <div class="visitor-count">
            ë°©ë¬¸ì : <span id="visitorCount">-</span>íšŒ
        </div>
    </div>
    
    <div class="main-content">
        <h1 class="page-title">ğŸ”® ì˜¤ëŠ˜ì˜ ìš´ì„¸</h1>
        <p class="page-subtitle" id="todayDate"></p>

        <!-- íƒ­ ë©”ë‰´ -->
        <div class="tab-menu">
            <button class="tab-btn active" onclick="switchTab('personal')">ğŸ“… ë‚´ ìš´ì„¸</button>
            <button class="tab-btn" onclick="switchTab('zodiac')">ğŸ² ë ë³„ ìš´ì„¸</button>
            <button class="tab-btn" onclick="switchTab('star')">â­ ë³„ìë¦¬ ìš´ì„¸</button>
        </div>

        <!-- ë‚´ ìš´ì„¸ íƒ­ -->
        <div class="tab-content active" id="personalTab">
            <div class="form-card">
                <h2 class="form-title">ìƒë…„ì›”ì¼ê³¼ ì‹œê°„ì„ ì…ë ¥í•˜ì„¸ìš”</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>ì„±ë³„</label>
                        <select id="gender">
                            <option value="male">ë‚¨ì„±</option>
                            <option value="female">ì—¬ì„±</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ìƒë…„ì›”ì¼</label>
                        <input type="date" id="birthDate">
                    </div>
                    <div class="form-group">
                        <label>íƒœì–´ë‚œ ì‹œê°„</label>
                        <select id="birthTime">
                            <option value="ì">ìì‹œ (23:00~01:00)</option>
                            <option value="ì¶•">ì¶•ì‹œ (01:00~03:00)</option>
                            <option value="ì¸">ì¸ì‹œ (03:00~05:00)</option>
                            <option value="ë¬˜">ë¬˜ì‹œ (05:00~07:00)</option>
                            <option value="ì§„">ì§„ì‹œ (07:00~09:00)</option>
                            <option value="ì‚¬">ì‚¬ì‹œ (09:00~11:00)</option>
                            <option value="ì˜¤" selected>ì˜¤ì‹œ (11:00~13:00)</option>
                            <option value="ë¯¸">ë¯¸ì‹œ (13:00~15:00)</option>
                            <option value="ì‹ ">ì‹ ì‹œ (15:00~17:00)</option>
                            <option value="ìœ ">ìœ ì‹œ (17:00~19:00)</option>
                            <option value="ìˆ ">ìˆ ì‹œ (19:00~21:00)</option>
                            <option value="í•´">í•´ì‹œ (21:00~23:00)</option>
                        </select>
                    </div>
                </div>
                <button class="btn" onclick="showPersonalFortune()">ìš´ì„¸ ë³´ê¸°</button>
            </div>
            <div class="fortune-result" id="personalResult"></div>
        </div>

        <!-- ë ë³„ ìš´ì„¸ íƒ­ -->
        <div class="tab-content" id="zodiacTab">
            <div class="zodiac-grid" id="zodiacGrid"></div>
            <div class="fortune-result" id="zodiacResult"></div>
        </div>

        <!-- ë³„ìë¦¬ ìš´ì„¸ íƒ­ -->
        <div class="tab-content" id="starTab">
            <div class="zodiac-grid" id="starGrid"></div>
            <div class="fortune-result" id="starResult"></div>
        </div>
    </div>

    <script>
        // ë  ë°ì´í„°
        const zodiacData = [
            { name: 'ì¥ë ', icon: 'ğŸ€', years: [1960, 1972, 1984, 1996, 2008, 2020] },
            { name: 'ì†Œë ', icon: 'ğŸ‚', years: [1961, 1973, 1985, 1997, 2009, 2021] },
            { name: 'í˜¸ë‘ì´ë ', icon: 'ğŸ…', years: [1962, 1974, 1986, 1998, 2010, 2022] },
            { name: 'í† ë¼ë ', icon: 'ğŸ‡', years: [1963, 1975, 1987, 1999, 2011, 2023] },
            { name: 'ìš©ë ', icon: 'ğŸ²', years: [1964, 1976, 1988, 2000, 2012, 2024] },
            { name: 'ë±€ë ', icon: 'ğŸ', years: [1965, 1977, 1989, 2001, 2013, 2025] },
            { name: 'ë§ë ', icon: 'ğŸ´', years: [1966, 1978, 1990, 2002, 2014, 2026] },
            { name: 'ì–‘ë ', icon: 'ğŸ‘', years: [1967, 1979, 1991, 2003, 2015, 2027] },
            { name: 'ì›ìˆ­ì´ë ', icon: 'ğŸµ', years: [1968, 1980, 1992, 2004, 2016, 2028] },
            { name: 'ë‹­ë ', icon: 'ğŸ”', years: [1969, 1981, 1993, 2005, 2017, 2029] },
            { name: 'ê°œë ', icon: 'ğŸ•', years: [1970, 1982, 1994, 2006, 2018, 2030] },
            { name: 'ë¼ì§€ë ', icon: 'ğŸ·', years: [1971, 1983, 1995, 2007, 2019, 2031] }
        ];

        // ë³„ìë¦¬ ë°ì´í„°
        const starData = [
            { name: 'ë¬¼ë³‘ìë¦¬', icon: 'â™’', dates: '1/20 ~ 2/18' },
            { name: 'ë¬¼ê³ ê¸°ìë¦¬', icon: 'â™“', dates: '2/19 ~ 3/20' },
            { name: 'ì–‘ìë¦¬', icon: 'â™ˆ', dates: '3/21 ~ 4/19' },
            { name: 'í™©ì†Œìë¦¬', icon: 'â™‰', dates: '4/20 ~ 5/20' },
            { name: 'ìŒë‘¥ì´ìë¦¬', icon: 'â™Š', dates: '5/21 ~ 6/21' },
            { name: 'ê²Œìë¦¬', icon: 'â™‹', dates: '6/22 ~ 7/22' },
            { name: 'ì‚¬ììë¦¬', icon: 'â™Œ', dates: '7/23 ~ 8/22' },
            { name: 'ì²˜ë…€ìë¦¬', icon: 'â™', dates: '8/23 ~ 9/22' },
            { name: 'ì²œì¹­ìë¦¬', icon: 'â™', dates: '9/23 ~ 10/22' },
            { name: 'ì „ê°ˆìë¦¬', icon: 'â™', dates: '10/23 ~ 11/21' },
            { name: 'ì‚¬ìˆ˜ìë¦¬', icon: 'â™', dates: '11/22 ~ 12/21' },
            { name: 'ì—¼ì†Œìë¦¬', icon: 'â™‘', dates: '12/22 ~ 1/19' }
        ];

        // ìš´ì„¸ ë¬¸êµ¬
        const fortuneMessages = {
            overall: [
                "ì˜¤ëŠ˜ì€ ì „ë°˜ì ìœ¼ë¡œ ì¢‹ì€ ê¸°ìš´ì´ ê°ëŒê³  ìˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì‹œì‘ì„ í•˜ê¸°ì— ì¢‹ì€ ë‚ ì´ë‹ˆ, ë¯¸ë¤„ì™”ë˜ ì¼ì´ ìˆë‹¤ë©´ ì˜¤ëŠ˜ ì‹œì‘í•´ë³´ì„¸ìš”.",
                "ì°¨ë¶„í•˜ê²Œ í•˜ë£¨ë¥¼ ë³´ë‚´ëŠ” ê²ƒì´ ì¢‹ê² ìŠµë‹ˆë‹¤. ê¸‰í•˜ê²Œ ì¼ì„ ì§„í–‰í•˜ê¸°ë³´ë‹¤ëŠ” ì‹ ì¤‘í•˜ê²Œ íŒë‹¨í•˜ì„¸ìš”.",
                "ì˜ˆìƒì¹˜ ëª»í•œ í–‰ìš´ì´ ì°¾ì•„ì˜¬ ìˆ˜ ìˆëŠ” ë‚ ì…ë‹ˆë‹¤. ì£¼ë³€ì„ ì˜ ì‚´í”¼ê³  ê¸°íšŒë¥¼ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”.",
                "ì˜¤ëŠ˜ì€ ìê¸° ìì‹ ì—ê²Œ ì§‘ì¤‘í•˜ëŠ” ê²ƒì´ ì¢‹ê² ìŠµë‹ˆë‹¤. íœ´ì‹ì„ ì·¨í•˜ê³  ì¬ì¶©ì „ì˜ ì‹œê°„ì„ ê°€ì ¸ë³´ì„¸ìš”.",
                "í™œë°œí•œ ì—ë„ˆì§€ê°€ ë„˜ì¹˜ëŠ” í•˜ë£¨ì…ë‹ˆë‹¤. ì ê·¹ì ìœ¼ë¡œ í–‰ë™í•˜ë©´ ì¢‹ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "ì†Œì†Œí•œ í–‰ë³µì„ ëŠë‚„ ìˆ˜ ìˆëŠ” ë‚ ì…ë‹ˆë‹¤. ì‘ì€ ê²ƒì—ë„ ê°ì‚¬í•˜ëŠ” ë§ˆìŒì„ ê°€ì ¸ë³´ì„¸ìš”.",
                "ë³€í™”ì˜ ë°”ëŒì´ ë¶ˆì–´ì˜¤ê³  ìˆìŠµë‹ˆë‹¤. ë‘ë ¤ì›Œí•˜ì§€ ë§ê³  ìƒˆë¡œìš´ ê²ƒì„ ë°›ì•„ë“¤ì—¬ ë³´ì„¸ìš”.",
                "ì˜¤ëŠ˜ì€ ê³„íší–ˆë˜ ì¼ë“¤ì´ ìˆœì¡°ë¡­ê²Œ ì§„í–‰ë  ê²ƒì…ë‹ˆë‹¤. ìì‹ ê°ì„ ê°€ì§€ê³  ì„í•˜ì„¸ìš”."
            ],
            love: [
                "ì—°ì¸ê³¼ì˜ ê´€ê³„ê°€ ë”ìš± ëˆë…í•´ì§€ëŠ” ë‚ ì…ë‹ˆë‹¤. ì§„ì‹¬ ì–´ë¦° ëŒ€í™”ë¥¼ ë‚˜ëˆ ë³´ì„¸ìš”.",
                "ìƒˆë¡œìš´ ë§Œë‚¨ì˜ ê¸°íšŒê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—´ë¦° ë§ˆìŒìœ¼ë¡œ ì‚¬ëŒë“¤ì„ ëŒ€í•´ë³´ì„¸ìš”.",
                "ì‚¬ì†Œí•œ ì˜¤í•´ê°€ ìƒê¸¸ ìˆ˜ ìˆìœ¼ë‹ˆ ìƒëŒ€ë°©ì˜ ë§ì— ê·€ ê¸°ìš¸ì—¬ì£¼ì„¸ìš”.",
                "ë¡œë§¨í‹±í•œ ë¶„ìœ„ê¸°ë¥¼ ì—°ì¶œí•˜ê¸° ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤. íŠ¹ë³„í•œ ë°ì´íŠ¸ë¥¼ ê³„íší•´ë³´ì„¸ìš”.",
                "í˜¼ìë§Œì˜ ì‹œê°„ë„ ì†Œì¤‘í•©ë‹ˆë‹¤. ìì‹ ì„ ì‚¬ë‘í•˜ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ì„¸ìš”.",
                "ê°ì • í‘œí˜„ì„ ì†”ì§í•˜ê²Œ í•˜ë©´ ì¢‹ì€ ê²°ê³¼ê°€ ìˆì„ ê²ƒì…ë‹ˆë‹¤.",
                "ê³¼ê±°ì˜ ì¸ì—°ì´ ë‹¤ì‹œ ì°¾ì•„ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹ ì¤‘í•˜ê²Œ íŒë‹¨í•˜ì„¸ìš”.",
                "ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒì—ê²Œ ê°ì‚¬ì˜ ë§ˆìŒì„ í‘œí˜„í•´ë³´ì„¸ìš”. ê´€ê³„ê°€ ë” ê¹Šì–´ì§ˆ ê²ƒì…ë‹ˆë‹¤."
            ],
            money: [
                "ì¬ë¬¼ìš´ì´ ìƒìŠ¹í•˜ëŠ” ë‚ ì…ë‹ˆë‹¤. íˆ¬ìì— ê´€ì‹¬ì„ ê°€ì ¸ë³´ëŠ” ê²ƒë„ ì¢‹ê² ìŠµë‹ˆë‹¤.",
                "ë¶ˆí•„ìš”í•œ ì§€ì¶œì„ ì¤„ì´ê³  ì €ì¶•ì— í˜ì“°ëŠ” ê²ƒì´ ì¢‹ê² ìŠµë‹ˆë‹¤.",
                "ì˜ˆìƒì¹˜ ëª»í•œ ìˆ˜ì…ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ìœ ì†Œì‹ì„ ê¸°ëŒ€í•´ë³´ì„¸ìš”.",
                "ê¸ˆì „ ê±°ë˜ì— ì‹ ì¤‘ì„ ê¸°í•´ì•¼ í•©ë‹ˆë‹¤. ê³„ì•½ì„œëŠ” ê¼¼ê¼¼íˆ í™•ì¸í•˜ì„¸ìš”.",
                "ì•ˆì •ì ì¸ ì¬ì • ê´€ë¦¬ê°€ í•„ìš”í•œ ì‹œê¸°ì…ë‹ˆë‹¤. ê³„íšì ì¸ ì†Œë¹„ë¥¼ í•˜ì„¸ìš”.",
                "ë¶€ì—…ì´ë‚˜ ìƒˆë¡œìš´ ìˆ˜ì…ì›ì„ ì°¾ì•„ë³´ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.",
                "ë¹Œë ¤ì¤€ ëˆì´ ëŒì•„ì˜¤ê±°ë‚˜ ìŠê³  ìˆë˜ ìˆ˜ì…ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "ì˜¤ëŠ˜ì€ í° ì§€ì¶œì„ í”¼í•˜ê³  í˜„ê¸ˆ íë¦„ì„ ì˜ ê´€ë¦¬í•˜ì„¸ìš”."
            ],
            health: [
                "ì „ë°˜ì ìœ¼ë¡œ ê±´ê°• ìƒíƒœê°€ ì–‘í˜¸í•©ë‹ˆë‹¤. ê¾¸ì¤€í•œ ìš´ë™ìœ¼ë¡œ ì²´ë ¥ì„ ìœ ì§€í•˜ì„¸ìš”.",
                "í”¼ë¡œê°€ ìŒ“ì—¬ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ì¶©ë¶„í•œ íœ´ì‹ì„ ì·¨í•˜ì„¸ìš”.",
                "ê°€ë²¼ìš´ ìŠ¤íŠ¸ë ˆì¹­ì´ë‚˜ ì‚°ì±…ìœ¼ë¡œ ëª¸ì„ í’€ì–´ì£¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.",
                "ì‹ìŠµê´€ì— ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. ê· í˜• ì¡íŒ ì‹ì‚¬ë¥¼ í•˜ì„¸ìš”.",
                "ì •ì‹  ê±´ê°•ë„ ì¤‘ìš”í•©ë‹ˆë‹¤. ëª…ìƒì´ë‚˜ ì·¨ë¯¸ í™œë™ìœ¼ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ í•´ì†Œí•˜ì„¸ìš”.",
                "ìˆ˜ë¶„ ì„­ì·¨ë¥¼ ì¶©ë¶„íˆ í•˜ê³ , ë¹„íƒ€ë¯¼ ë³´ì¶©ì— ì‹ ê²½ ì“°ì„¸ìš”.",
                "ë¬´ë¦¬í•œ í™œë™ì€ í”¼í•˜ê³  ëª¸ì˜ ì‹ í˜¸ì— ê·€ ê¸°ìš¸ì—¬ì£¼ì„¸ìš”.",
                "ê·œì¹™ì ì¸ ìƒí™œ íŒ¨í„´ì„ ìœ ì§€í•˜ë©´ ì»¨ë””ì…˜ì´ ì¢‹ì•„ì§ˆ ê²ƒì…ë‹ˆë‹¤."
            ],
            lucky: [
                { number: "3, 7, 12", color: "íŒŒë€ìƒ‰", direction: "ë™ìª½" },
                { number: "1, 8, 15", color: "ë¹¨ê°„ìƒ‰", direction: "ë‚¨ìª½" },
                { number: "2, 9, 14", color: "ë…¸ë€ìƒ‰", direction: "ì„œìª½" },
                { number: "4, 6, 11", color: "ì´ˆë¡ìƒ‰", direction: "ë¶ìª½" },
                { number: "5, 10, 13", color: "ë³´ë¼ìƒ‰", direction: "ë™ë‚¨ìª½" },
                { number: "7, 14, 21", color: "ì£¼í™©ìƒ‰", direction: "ì„œë‚¨ìª½" },
                { number: "3, 9, 18", color: "í•˜ëŠ˜ìƒ‰", direction: "ë™ë¶ìª½" },
                { number: "6, 12, 24", color: "ë¶„í™ìƒ‰", direction: "ì„œë¶ìª½" }
            ]
        };

        // ë‹¤í¬ëª¨ë“œ
        function toggleTheme() {
            const body = document.body;
            const button = document.querySelector('.theme-toggle');
            
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                button.textContent = 'ğŸŒ™';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                button.textContent = 'â˜€ï¸';
                localStorage.setItem('theme', 'dark');
            }
        }

        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            const button = document.querySelector('.theme-toggle');
            
            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                button.textContent = 'â˜€ï¸';
            }
        }

        // íƒ­ ì „í™˜
        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tab + 'Tab').classList.add('active');
        }

        // í•´ì‹œ ê¸°ë°˜ ëœë¤ ìƒì„± (ë‚ ì§œë³„ ê³ ì •)
        function seededRandom(seed) {
            const x = Math.sin(seed) * 10000;
            return x - Math.floor(x);
        }

        function getFortuneIndex(seed, arrayLength) {
            return Math.floor(seededRandom(seed) * arrayLength);
        }

        function getLuckPercent(seed) {
            return Math.floor(seededRandom(seed) * 41) + 60; // 60~100%
        }

        // ë‚ ì§œ ì‹œë“œ ìƒì„±
        function getDateSeed() {
            const today = new Date();
            return today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();
        }

        // ë  ê³„ì‚°
        function getZodiac(year) {
            const index = (year - 1960) % 12;
            return index >= 0 ? index : index + 12;
        }

        // ë³„ìë¦¬ ê³„ì‚°
        function getStarSign(month, day) {
            const signs = [
                [1, 20, 0], [2, 19, 1], [3, 21, 2], [4, 20, 3], [5, 21, 4], [6, 22, 5],
                [7, 23, 6], [8, 23, 7], [9, 23, 8], [10, 23, 9], [11, 22, 10], [12, 22, 11]
            ];
            
            for (let i = signs.length - 1; i >= 0; i--) {
                if (month > signs[i][0] || (month === signs[i][0] && day >= signs[i][1])) {
                    return signs[i][2];
                }
            }
            return 11; // ì—¼ì†Œìë¦¬
        }

        // ìš´ì„¸ ê²°ê³¼ HTML ìƒì„±
        function createFortuneHTML(title, icon, seed) {
            const dateSeed = getDateSeed();
            const combinedSeed = dateSeed + seed;
            
            const overall = fortuneMessages.overall[getFortuneIndex(combinedSeed, fortuneMessages.overall.length)];
            const love = fortuneMessages.love[getFortuneIndex(combinedSeed + 1, fortuneMessages.love.length)];
            const money = fortuneMessages.money[getFortuneIndex(combinedSeed + 2, fortuneMessages.money.length)];
            const health = fortuneMessages.health[getFortuneIndex(combinedSeed + 3, fortuneMessages.health.length)];
            const lucky = fortuneMessages.lucky[getFortuneIndex(combinedSeed + 4, fortuneMessages.lucky.length)];
            
            const overallLuck = getLuckPercent(combinedSeed + 10);
            const loveLuck = getLuckPercent(combinedSeed + 11);
            const moneyLuck = getLuckPercent(combinedSeed + 12);
            const healthLuck = getLuckPercent(combinedSeed + 13);

            const getLuckClass = (percent) => {
                if (percent >= 80) return 'high';
                if (percent >= 60) return 'medium';
                return 'low';
            };

            const today = new Date();
            const dateStr = `${today.getFullYear()}ë…„ ${today.getMonth() + 1}ì›” ${today.getDate()}ì¼`;

            return `
                <div class="fortune-header">
                    <div class="fortune-icon">${icon}</div>
                    <h3 class="fortune-title">${title}</h3>
                    <p class="fortune-date">${dateStr}</p>
                </div>

                <div class="fortune-section">
                    <div class="fortune-section-title">ğŸŒŸ ì´ìš´</div>
                    <div class="fortune-section-content">${overall}</div>
                    <div class="luck-meter">
                        <div class="luck-bar"><div class="luck-fill ${getLuckClass(overallLuck)}" style="width: ${overallLuck}%"></div></div>
                        <span class="luck-percent">${overallLuck}%</span>
                    </div>
                </div>

                <div class="fortune-section">
                    <div class="fortune-section-title">ğŸ’• ì• ì •ìš´</div>
                    <div class="fortune-section-content">${love}</div>
                    <div class="luck-meter">
                        <div class="luck-bar"><div class="luck-fill ${getLuckClass(loveLuck)}" style="width: ${loveLuck}%"></div></div>
                        <span class="luck-percent">${loveLuck}%</span>
                    </div>
                </div>

                <div class="fortune-section">
                    <div class="fortune-section-title">ğŸ’° ê¸ˆì „ìš´</div>
                    <div class="fortune-section-content">${money}</div>
                    <div class="luck-meter">
                        <div class="luck-bar"><div class="luck-fill ${getLuckClass(moneyLuck)}" style="width: ${moneyLuck}%"></div></div>
                        <span class="luck-percent">${moneyLuck}%</span>
                    </div>
                </div>

                <div class="fortune-section">
                    <div class="fortune-section-title">ğŸ’ª ê±´ê°•ìš´</div>
                    <div class="fortune-section-content">${health}</div>
                    <div class="luck-meter">
                        <div class="luck-bar"><div class="luck-fill ${getLuckClass(healthLuck)}" style="width: ${healthLuck}%"></div></div>
                        <span class="luck-percent">${healthLuck}%</span>
                    </div>
                </div>

                <div class="fortune-section">
                    <div class="fortune-section-title">ğŸ€ í–‰ìš´ì˜ í‚¤ì›Œë“œ</div>
                    <div class="fortune-section-content">
                        í–‰ìš´ì˜ ìˆ«ì: <strong>${lucky.number}</strong><br>
                        í–‰ìš´ì˜ ìƒ‰ìƒ: <strong>${lucky.color}</strong><br>
                        í–‰ìš´ì˜ ë°©í–¥: <strong>${lucky.direction}</strong>
                    </div>
                </div>
            `;
        }

        // ë‚´ ìš´ì„¸ ë³´ê¸°
        function showPersonalFortune() {
            const gender = document.getElementById('gender').value;
            const birthDate = document.getElementById('birthDate').value;
            const birthTime = document.getElementById('birthTime').value;

            if (!birthDate) {
                alert('ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const date = new Date(birthDate);
            const year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();

            const zodiacIndex = getZodiac(year);
            const starIndex = getStarSign(month, day);
            const timeIndex = ['ì','ì¶•','ì¸','ë¬˜','ì§„','ì‚¬','ì˜¤','ë¯¸','ì‹ ','ìœ ','ìˆ ','í•´'].indexOf(birthTime);

            const seed = year + month * 100 + day * 10 + timeIndex + (gender === 'male' ? 1 : 2);
            const zodiac = zodiacData[zodiacIndex];
            const star = starData[starIndex];

            const title = `${zodiac.icon} ${zodiac.name} Â· ${star.icon} ${star.name}`;
            const icon = gender === 'male' ? 'ğŸ‘¨' : 'ğŸ‘©';

            const resultEl = document.getElementById('personalResult');
            resultEl.innerHTML = createFortuneHTML(title, icon, seed);
            resultEl.classList.add('show');
        }

        // ë ë³„ ìš´ì„¸ ê·¸ë¦¬ë“œ ìƒì„±
        function renderZodiacGrid() {
            const grid = document.getElementById('zodiacGrid');
            grid.innerHTML = zodiacData.map((zodiac, index) => `
                <div class="zodiac-card" onclick="showZodiacFortune(${index})">
                    <div class="zodiac-icon">${zodiac.icon}</div>
                    <div class="zodiac-name">${zodiac.name}</div>
                    <div class="zodiac-years">${zodiac.years.slice(-3).join(', ')}ë…„ìƒ</div>
                </div>
            `).join('');
        }

        // ë ë³„ ìš´ì„¸ ë³´ê¸°
        function showZodiacFortune(index) {
            document.querySelectorAll('#zodiacGrid .zodiac-card').forEach(card => card.classList.remove('selected'));
            document.querySelectorAll('#zodiacGrid .zodiac-card')[index].classList.add('selected');

            const zodiac = zodiacData[index];
            const seed = index * 1000;

            const resultEl = document.getElementById('zodiacResult');
            resultEl.innerHTML = createFortuneHTML(zodiac.name, zodiac.icon, seed);
            resultEl.classList.add('show');
        }

        // ë³„ìë¦¬ ìš´ì„¸ ê·¸ë¦¬ë“œ ìƒì„±
        function renderStarGrid() {
            const grid = document.getElementById('starGrid');
            grid.innerHTML = starData.map((star, index) => `
                <div class="zodiac-card" onclick="showStarFortune(${index})">
                    <div class="zodiac-icon">${star.icon}</div>
                    <div class="zodiac-name">${star.name}</div>
                    <div class="zodiac-dates">${star.dates}</div>
                </div>
            `).join('');
        }

        // ë³„ìë¦¬ ìš´ì„¸ ë³´ê¸°
        function showStarFortune(index) {
            document.querySelectorAll('#starGrid .zodiac-card').forEach(card => card.classList.remove('selected'));
            document.querySelectorAll('#starGrid .zodiac-card')[index].classList.add('selected');

            const star = starData[index];
            const seed = index * 2000;

            const resultEl = document.getElementById('starResult');
            resultEl.innerHTML = createFortuneHTML(star.name, star.icon, seed);
            resultEl.classList.add('show');
        }

        // ì˜¤ëŠ˜ ë‚ ì§œ í‘œì‹œ
        function setTodayDate() {
            const today = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
            document.getElementById('todayDate').textContent = today.toLocaleDateString('ko-KR', options);
        }

        // ì´ˆê¸°í™”
        window.onload = function() {
            loadTheme();
            setTodayDate();
            renderZodiacGrid();
            renderStarGrid();

            // ê¸°ë³¸ ìƒë…„ì›”ì¼ ì„¤ì •
            document.getElementById('birthDate').value = '2000-01-01';
        };
    </script>
</body>
</html>
